.ui-button {
  --btn-main: var(--accent-primary);
  --btn-main-hover: var(--accent-hover);
  --btn-text-on-solid: var(--text-inverted, #ffffff);
  --btn-bg-subtle-hover: var(--bg-hover, rgba(0, 0, 0, 0.05));

  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;

  border-radius: 8px;
  font-weight: 500;
  white-space: nowrap;
  border: 1px solid transparent;
  text-decoration: none;
  user-select: none;
  -webkit-user-select: none;
  cursor: pointer;

  transition: background-color 0.2s ease, color 0.2s ease, border-color 0.2s ease, opacity 0.2s ease;

  &:visited {
    color: inherit;
  }

  &:hover {
    text-decoration: none;
  }

  &:focus-visible {
    outline: none;
    box-shadow: 0 0 0 2px var(--bg-primary, #fff), 0 0 0 4px var(--btn-main);
    z-index: 1;
  }

  &:disabled,
  &[disabled],
  &[aria-disabled="true"] {
    opacity: 0.5;
    cursor: not-allowed;
    pointer-events: none;
  }

  &--sm {
    height: 32px;
    padding: 0 12px;
    font-size: 13px;
  }

  &--md {
    height: 40px;
    padding: 0 16px;
    font-size: 14px;
  }

  &--lg {
    height: 48px;
    padding: 0 24px;
    font-size: 16px;
  }

  &--solid {
    background-color: var(--btn-main);
    color: var(--btn-text-on-solid);
    border-color: transparent;

    &:visited {
      color: var(--btn-text-on-solid);
    }

    &:hover:not([aria-disabled="true"]):not(:disabled) {
      background-color: var(--btn-main-hover);
      color: var(--btn-text-on-solid);
    }
  }

  &--outline {
    background-color: transparent;
    color: var(--btn-main);
    border-color: var(--btn-main);

    &:visited {
      color: var(--btn-main);
    }

    &:hover:not([aria-disabled="true"]):not(:disabled) {
      background-color: var(--btn-bg-subtle-hover);
      color: var(--btn-main);
    }
  }

  &--ghost {
    background-color: transparent;
    color: var(--btn-main);
    border-color: transparent;

    &:visited {
      color: var(--btn-main);
    }

    &:hover:not([aria-disabled="true"]):not(:disabled) {
      background-color: var(--btn-bg-subtle-hover);
      color: var(--btn-main);
    }
  }

  &--primary {
    --btn-main: var(--accent-primary);
    --btn-main-hover: var(--accent-hover);
  }

  &--success {
    --btn-main: var(--color-success);
    --btn-main-hover: var(--color-success-hover, #15803d);
  }

  &--danger {
    --btn-main: var(--color-danger);
    --btn-main-hover: var(--color-danger-hover, #b91c1c);
  }

  &.is-loading {
    position: relative;
    color: transparent !important;
    pointer-events: none;
    opacity: 0.8;

    &::after {
      content: '';
      position: absolute;
      width: 1em;
      height: 1em;
      top: calc(50% - 0.5em);
      left: calc(50% - 0.5em);
      border: 2px solid currentColor;
      border-right-color: transparent;
      border-radius: 50%;
      animation: spin 0.75s linear infinite;
      color: var(--btn-text-on-solid);
    }

    &.ui-button--outline::after,
    &.ui-button--ghost::after {
      color: var(--btn-main);
    }
  }
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}